# service broker service: forward a request to a machine able to respond
# @HELP signal @servicebroker delegate <service> <arguments>		# send request for <service> to a host which provides that service

database="$tmp/servicebroker"

service=$1
shift
cd $database/$service && {
   host=($(printf '%s\n' * | sort -R))
   signal $host $service $@
}
